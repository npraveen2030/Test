using (var context = new YourDbContext())
{
    // Fetch source records from CurrentElementData based on SourceAnalysisID
    var sourceElements = context.CurrentElementData
        .Where(e => e.AnalysisId == sourceAnalysisID)
        .Select(e => new CurrentElementData
        {
            ModelId = modelID, // Assign the new Model ID
            AnalysisId = analysisID, // Assign the new Analysis ID
            Volume = e.Volume,
            UnitPrice = e.UnitPrice,
            ElementId = e.ElementId,
            CompPrice = e.CompPrice,
            ChargeClass = e.ChargeClass,
            StandardPrice = e.StandardPrice
        })
        .ToList(); // Retrieve all matching records

    if (sourceElements.Any()) // Ensure there are records to insert
    {
        context.CurrentElementData.AddRange(sourceElements); // Insert all records
        context.SaveChanges(); // Save changes to the database

        Console.WriteLine($"Inserted {sourceElements.Count} records successfully.");
    }
}
